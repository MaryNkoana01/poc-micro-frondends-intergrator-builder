{"version":3,"file":"create-history-v4-adapter.js","sourceRoot":"","sources":["../../../src/internal/create-history-v4-adapter.ts"],"names":[],"mappings":";;;AAIA,SAAgB,sBAAsB,CACpC,OAA8B,EAC9B,OAAgB;IAEhB,OAAO;QACL,IAAI,MAAM;YACR,OAAO,OAAO,MAAM,KAAK,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;QACnE,CAAC;QAED,IAAI,MAAM;YACR,OAAO,OAAO,CAAC,MAAM,CAAC;QACxB,CAAC;QAED,IAAI,QAAQ;YACV,OAAO,OAAO,CAAC,QAAQ,CAAC;QAC1B,CAAC;QAED,IAAI,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,EAAE;YACxB,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;gBAChC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;aAC/B;iBAAM;gBACL,MAAM,EAAC,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,aAAa,EAAC,GAAG,QAAQ,CAAC;gBAEhE,OAAO,CAAC,IAAI,CAAC,EAAC,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAC,EAAE,aAAa,CAAC,CAAC;aACvD;QACH,CAAC;QAED,OAAO,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,EAAE;YAC3B,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;gBAChC,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;aAClC;iBAAM;gBACL,MAAM,EAAC,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,aAAa,EAAC,GAAG,QAAQ,CAAC;gBAEhE,OAAO,CAAC,OAAO,CAAC,EAAC,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAC,EAAE,aAAa,CAAC,CAAC;aAC1D;QACH,CAAC;QAED,EAAE,EAAE,GAAG,EAAE;YACP,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;QACxD,CAAC;QAED,MAAM,EAAE,GAAG,EAAE;YACX,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,oCAAoC,CAAC,CAAC;QAC5D,CAAC;QAED,SAAS,EAAE,GAAG,EAAE;YACd,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,uCAAuC,CAAC,CAAC;QAC/D,CAAC;QAED,KAAK,EAAE,GAAG,EAAE;YACV,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC;YAEzD,OAAO,GAAG,EAAE,CAAC,SAAS,CAAC;QACzB,CAAC;QAED,MAAM,EAAE,CAAC,QAAQ,EAAE,EAAE,CACnB,OAAO,CAAC,MAAM,CAAC,CAAC,EAAC,QAAQ,EAAE,MAAM,EAAC,EAAE,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAEpE,UAAU,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC;KACvD,CAAC;AACJ,CAAC;AA5DD,wDA4DC","sourcesContent":["import {History} from 'history';\nimport * as historyV4 from '../history-v4';\nimport {HistoryServiceContext} from './history-service-context';\n\nexport function createHistoryV4Adapter(\n  context: HistoryServiceContext,\n  history: History,\n): historyV4.History {\n  return {\n    get length(): number {\n      return typeof window === 'undefined' ? 1 : window.history.length;\n    },\n\n    get action(): historyV4.Action {\n      return history.action;\n    },\n\n    get location(): historyV4.Location {\n      return history.location;\n    },\n\n    push: (location, state) => {\n      if (typeof location === 'string') {\n        history.push(location, state);\n      } else {\n        const {pathname, search, hash, state: locationState} = location;\n\n        history.push({pathname, search, hash}, locationState);\n      }\n    },\n\n    replace: (location, state) => {\n      if (typeof location === 'string') {\n        history.replace(location, state);\n      } else {\n        const {pathname, search, hash, state: locationState} = location;\n\n        history.replace({pathname, search, hash}, locationState);\n      }\n    },\n\n    go: () => {\n      context.logger.warn('history.go() is not supported.');\n    },\n\n    goBack: () => {\n      context.logger.warn('history.goBack() is not supported.');\n    },\n\n    goForward: () => {\n      context.logger.warn('history.goForward() is not supported.');\n    },\n\n    block: () => {\n      context.logger.warn('history.block() is not supported.');\n\n      return () => undefined;\n    },\n\n    listen: (listener) =>\n      history.listen(({location, action}) => listener(location, action)),\n\n    createHref: (location) => history.createHref(location),\n  };\n}\n"]}