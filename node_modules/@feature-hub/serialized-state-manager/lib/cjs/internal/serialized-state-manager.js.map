{"version":3,"file":"serialized-state-manager.js","sourceRoot":"","sources":["../../../src/internal/serialized-state-manager.ts"],"names":[],"mappings":";;;AAIA,MAAa,sBAAsB;IACjC,YACmB,UAAkB,EAClB,sBAA8C,EAC9C,sBAA8C;QAF9C,eAAU,GAAV,UAAU,CAAQ;QAClB,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC9C,2BAAsB,GAAtB,sBAAsB,CAAwB;IAC9D,CAAC;IAEG,QAAQ,CAAC,cAA4B;QAC1C,IAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,cAAc,CAAC,CAAC;IACxE,CAAC;IAEM,eAAe;QACpB,OAAO,IAAI,CAAC,sBAAsB,CAAC,eAAe,EAAE,CAAC;IACvD,CAAC;IAEM,mBAAmB,CAAC,gBAAwB;QACjD,IAAI,CAAC,sBAAsB,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,CAAC;IACpE,CAAC;IAEM,kBAAkB;QACvB,OAAO,IAAI,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACzE,CAAC;CACF;AAtBD,wDAsBC","sourcesContent":["import {SerializedStateManagerV1} from '..';\nimport {ClientSideStateManager} from './client-side-state-manager';\nimport {ServerSideStateManager} from './server-side-state-manager';\n\nexport class SerializedStateManager implements SerializedStateManagerV1 {\n  public constructor(\n    private readonly consumerId: string,\n    private readonly serverSideStateManager: ServerSideStateManager,\n    private readonly clientSideStateManager: ClientSideStateManager,\n  ) {}\n\n  public register(serializeState: () => string): void {\n    this.serverSideStateManager.register(this.consumerId, serializeState);\n  }\n\n  public serializeStates(): string {\n    return this.serverSideStateManager.serializeStates();\n  }\n\n  public setSerializedStates(serializedStates: string): void {\n    this.clientSideStateManager.setSerializedStates(serializedStates);\n  }\n\n  public getSerializedState(): string | undefined {\n    return this.clientSideStateManager.getSerializedState(this.consumerId);\n  }\n}\n"]}