{"version":3,"file":"feature-app-container.test.js","sourceRoot":"","sources":["../../../src/__tests__/feature-app-container.test.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * @jest-environment jsdom\n */\n\n// tslint:disable:no-implicit-dependencies\n\nimport {\n  FeatureAppDefinition,\n  FeatureAppManager,\n  FeatureAppScope,\n  FeatureAppScopeOptions,\n} from '@feature-hub/core';\nimport * as React from 'react';\nimport TestRenderer from 'react-test-renderer';\nimport {\n  CustomFeatureAppRenderingParams,\n  FeatureApp,\n  FeatureAppContainer,\n  FeatureHubContextProvider,\n} from '..';\nimport {InternalFeatureAppContainer} from '../internal/internal-feature-app-container';\nimport {logger} from './logger';\nimport {TestErrorBoundary} from './test-error-boundary';\n\ndescribe('FeatureAppContainer', () => {\n  let mockFeatureAppManager: FeatureAppManager;\n  let mockCreateFeatureAppScope: jest.Mock;\n  let mockFeatureAppDefinition: FeatureAppDefinition<FeatureApp>;\n  let mockFeatureAppScope: FeatureAppScope<unknown>;\n  let consoleErrorSpy: jest.SpyInstance;\n\n  const noErrorBoundaryConsoleErrorCalls = [\n    [\n      expect.stringContaining(\n        'Consider adding an error boundary to your tree to customize error handling behavior.',\n      ),\n    ],\n  ];\n\n  const usingTestErrorBoundaryConsoleErrorCalls = [\n    [\n      expect.stringContaining(\n        'React will try to recreate this component tree from scratch using the error boundary you provided, TestErrorBoundary.',\n      ),\n    ],\n  ];\n\n  const expectConsoleErrorCalls = (expectedConsoleErrorCalls: unknown[][]) => {\n    try {\n      expect(consoleErrorSpy.mock.calls).toEqual(expectedConsoleErrorCalls);\n    } finally {\n      consoleErrorSpy.mockClear();\n    }\n  };\n\n  beforeAll(() => {\n    window.addEventListener('error', (e) => {\n      // Prevent JSDOM from messing with the errors. See also:\n      // https://github.com/jestjs/jest/issues/5223#issuecomment-355440432\n      e.preventDefault();\n    });\n  });\n\n  beforeEach(() => {\n    consoleErrorSpy = jest.spyOn(console, 'error');\n    mockFeatureAppDefinition = {create: jest.fn()};\n    mockFeatureAppScope = {featureApp: {}, release: jest.fn()};\n    mockCreateFeatureAppScope = jest.fn(() => ({...mockFeatureAppScope}));\n\n    mockFeatureAppManager = {\n      getAsyncFeatureAppDefinition: jest.fn(),\n      createFeatureAppScope: mockCreateFeatureAppScope,\n      preloadFeatureApp: jest.fn(),\n    } as Partial<FeatureAppManager> as FeatureAppManager;\n  });\n\n  afterEach(() => {\n    expect(consoleErrorSpy).not.toHaveBeenCalled();\n    consoleErrorSpy.mockRestore();\n  });\n\n  it('throws an error when rendered without a FeatureHubContextProvider', () => {\n    expect(() =>\n      TestRenderer.create(\n        <FeatureAppContainer\n          featureAppId=\"testId\"\n          featureAppDefinition={mockFeatureAppDefinition}\n        />,\n      ),\n    ).toThrowError(\n      new Error(\n        'No Feature Hub context was provided! There are two possible causes: 1.) No FeatureHubContextProvider was rendered in the React tree. 2.) A Feature App that renders itself a FeatureAppLoader or a FeatureAppContainer did not declare @feature-hub/react as an external package.',\n      ),\n    );\n\n    expectConsoleErrorCalls(noErrorBoundaryConsoleErrorCalls);\n  });\n\n  const renderWithFeatureHubContext = (\n    node: React.ReactNode,\n    {\n      customLogger = true,\n      testRendererOptions,\n    }: {\n      customLogger?: boolean;\n      testRendererOptions?: TestRenderer.TestRendererOptions;\n    } = {},\n  ) =>\n    TestRenderer.create(\n      <FeatureHubContextProvider\n        value={{\n          featureAppManager: mockFeatureAppManager,\n          logger: customLogger ? logger : undefined,\n        }}\n      >\n        {node}\n      </FeatureHubContextProvider>,\n      testRendererOptions,\n    );\n\n  it('calls the Feature App manager with the given featureAppDefinition, featureAppId, config, baseUrl, beforeCreate callback, and done callback', () => {\n    const mockBeforeCreate = jest.fn();\n    const mockDone = jest.fn();\n\n    renderWithFeatureHubContext(\n      <FeatureAppContainer\n        featureAppDefinition={mockFeatureAppDefinition}\n        featureAppId=\"testId\"\n        config=\"testConfig\"\n        baseUrl=\"/base\"\n        beforeCreate={mockBeforeCreate}\n        done={mockDone}\n      />,\n    );\n\n    expect(mockCreateFeatureAppScope.mock.calls).toEqual([\n      [\n        'testId',\n        mockFeatureAppDefinition,\n        {\n          baseUrl: '/base',\n          config: 'testConfig',\n          beforeCreate: mockBeforeCreate,\n          done: mockDone,\n        } satisfies FeatureAppScopeOptions<{}, string>,\n      ],\n    ]);\n  });\n\n  describe('with a React Feature App', () => {\n    beforeEach(() => {\n      mockFeatureAppScope = {\n        featureApp: {\n          render: () => <div>This is the React Feature App.</div>,\n        },\n        release: jest.fn(),\n      };\n    });\n\n    it('renders the React element', () => {\n      const testRenderer = renderWithFeatureHubContext(\n        <FeatureAppContainer\n          featureAppId=\"testId\"\n          featureAppDefinition={mockFeatureAppDefinition}\n        />,\n      );\n\n      expect(testRenderer.toJSON()).toMatchInlineSnapshot(`\n<div>\n  This is the React Feature App.\n</div>\n`);\n    });\n\n    describe('when children function is provided', () => {\n      it('passes react node to children function', () => {\n        const children = jest.fn(\n          ({featureAppNode}: CustomFeatureAppRenderingParams) => (\n            <div id=\"children-wrap\">{featureAppNode}</div>\n          ),\n        );\n\n        const testRenderer = renderWithFeatureHubContext(\n          <FeatureAppContainer\n            featureAppId=\"testId\"\n            featureAppDefinition={mockFeatureAppDefinition}\n            children={children}\n          />,\n        );\n\n        expect(children).toHaveBeenCalledTimes(1);\n\n        expect(children.mock.calls[0][0]).toMatchInlineSnapshot(`\n          {\n            \"featureAppNode\": <div>\n              This is the React Feature App.\n            </div>,\n            \"loading\": false,\n          }\n        `);\n\n        expect(testRenderer.toJSON()).toMatchInlineSnapshot(`\n          <div\n            id=\"children-wrap\"\n          >\n            <div>\n              This is the React Feature App.\n            </div>\n          </div>\n        `);\n      });\n    });\n\n    describe('when the Feature App renders another Feature App', () => {\n      beforeEach(() => {\n        let didRenderChildFeatureApp = false;\n\n        mockFeatureAppScope = {\n          featureApp: {\n            render: () => {\n              if (didRenderChildFeatureApp) {\n                return <div>Child</div>;\n              }\n\n              didRenderChildFeatureApp = true;\n\n              return (\n                <FeatureAppContainer\n                  featureAppId=\"childTestId\"\n                  featureAppDefinition={mockFeatureAppDefinition}\n                />\n              );\n            },\n          },\n          release: jest.fn(),\n        };\n      });\n\n      it('passes the parent Feature App descriptor to `createFeatureAppScope`', () => {\n        const testRenderer = renderWithFeatureHubContext(\n          <FeatureAppContainer\n            featureAppId=\"parentTestId\"\n            featureAppName=\"parentTestName\"\n            featureAppDefinition={mockFeatureAppDefinition}\n          />,\n        );\n\n        expect(mockCreateFeatureAppScope.mock.calls).toEqual([\n          [\n            'parentTestId',\n            mockFeatureAppDefinition,\n            {featureAppName: 'parentTestName'},\n          ],\n          [\n            'childTestId',\n            mockFeatureAppDefinition,\n            {\n              parentFeatureApp: {\n                featureAppId: 'parentTestId',\n                featureAppName: 'parentTestName',\n              },\n            },\n          ],\n        ]);\n\n        expect(testRenderer.toJSON()).toMatchInlineSnapshot(`\n  <div>\n    Child\n  </div>\n`);\n      });\n    });\n\n    describe('when the Feature App throws in render', () => {\n      let mockError: Error;\n\n      beforeEach(() => {\n        mockError = new Error('Failed to render.');\n\n        mockFeatureAppScope = {\n          ...mockFeatureAppScope,\n          featureApp: {\n            render: () => {\n              throw mockError;\n            },\n          },\n        };\n      });\n\n      it(\"doesn't throw an error\", () => {\n        expect(() => {\n          renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n            />,\n          );\n        }).not.toThrow();\n      });\n\n      it('logs the error', () => {\n        renderWithFeatureHubContext(\n          <FeatureAppContainer\n            featureAppId=\"testId\"\n            featureAppDefinition={mockFeatureAppDefinition}\n          />,\n        );\n\n        expect(logger.error.mock.calls).toEqual([[mockError]]);\n      });\n\n      describe('with onError provided', () => {\n        it('calls onError with the error', () => {\n          const onError = jest.fn();\n\n          renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n              onError={onError}\n            />,\n          );\n\n          expect(onError.mock.calls).toEqual([[mockError]]);\n        });\n\n        it('does not log the error', () => {\n          renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n              onError={jest.fn()}\n            />,\n          );\n\n          expect(logger.error).not.toHaveBeenCalled();\n        });\n\n        describe('when onError throws an error', () => {\n          let onErrorMockError: Error;\n\n          beforeEach(() => {\n            onErrorMockError = new Error('Throwing in onError.');\n          });\n\n          it('re-throws the error', () => {\n            expect(() =>\n              renderWithFeatureHubContext(\n                <FeatureAppContainer\n                  featureAppId=\"testId\"\n                  featureAppDefinition={mockFeatureAppDefinition}\n                  onError={() => {\n                    throw onErrorMockError;\n                  }}\n                />,\n              ),\n            ).toThrowError(onErrorMockError);\n\n            expectConsoleErrorCalls(noErrorBoundaryConsoleErrorCalls);\n          });\n        });\n      });\n\n      describe('with a children function provided', () => {\n        it('calls the children function with the error and loading=false', () => {\n          const children = jest.fn(\n            (_: CustomFeatureAppRenderingParams) => null,\n          );\n\n          renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n              children={children}\n            />,\n          );\n\n          expect(children.mock.calls).toEqual([\n            [\n              {\n                featureAppNode: undefined,\n                loading: false,\n                error: mockError,\n              } satisfies CustomFeatureAppRenderingParams,\n            ],\n          ]);\n        });\n\n        it('renders what the children function returns', () => {\n          const testRenderer = renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n              children={() => 'Custom Error UI'}\n            />,\n          );\n\n          expect(testRenderer.toJSON()).toBe('Custom Error UI');\n        });\n\n        it('renders what the children function returns if feature app definition is undefined', () => {\n          const testRenderer = renderWithFeatureHubContext(\n            <InternalFeatureAppContainer\n              featureAppId=\"testId\"\n              children={() => 'loading UI'}\n              logger={logger}\n              featureAppManager={mockFeatureAppManager}\n            />,\n          );\n\n          expect(testRenderer.toJSON()).toBe('loading UI');\n        });\n\n        describe('when children throws an error', () => {\n          let childrenMockError: Error;\n\n          beforeEach(() => {\n            childrenMockError = new Error('Throwing in children.');\n          });\n\n          it('re-throws the error', () => {\n            expect(() =>\n              renderWithFeatureHubContext(\n                <FeatureAppContainer\n                  featureAppId=\"testId\"\n                  featureAppDefinition={mockFeatureAppDefinition}\n                  children={() => {\n                    throw childrenMockError;\n                  }}\n                />,\n              ),\n            ).toThrowError(childrenMockError);\n\n            expectConsoleErrorCalls(noErrorBoundaryConsoleErrorCalls);\n          });\n        });\n      });\n    });\n\n    describe('when the Feature App throws in componentDidMount', () => {\n      let mockError: Error;\n\n      beforeEach(() => {\n        mockError = new Error('Failed to mount.');\n\n        class FeatureAppComponent extends React.Component {\n          public componentDidMount(): void {\n            throw mockError;\n          }\n\n          public render(): JSX.Element {\n            return <p>Markup</p>;\n          }\n        }\n\n        mockFeatureAppScope = {\n          ...mockFeatureAppScope,\n          featureApp: {\n            render: () => <FeatureAppComponent />,\n          },\n        };\n      });\n\n      it(\"doesn't throw an error\", () => {\n        expect(() => {\n          renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n            />,\n          );\n        }).not.toThrow();\n      });\n\n      it('logs the error', () => {\n        renderWithFeatureHubContext(\n          <FeatureAppContainer\n            featureAppId=\"testId\"\n            featureAppDefinition={mockFeatureAppDefinition}\n          />,\n        );\n\n        expect(logger.error.mock.calls).toEqual([[mockError]]);\n      });\n\n      describe('with onError provided', () => {\n        it('calls onError with the error', () => {\n          const onError = jest.fn();\n\n          renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n              onError={onError}\n            />,\n          );\n\n          expect(onError.mock.calls).toEqual([[mockError]]);\n        });\n\n        it('does not log the error', () => {\n          renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n              onError={jest.fn()}\n            />,\n          );\n\n          expect(logger.error).not.toHaveBeenCalled();\n        });\n\n        describe('when onError throws an error', () => {\n          let onErrorMockError: Error;\n\n          beforeEach(() => {\n            onErrorMockError = new Error('Throwing in onError.');\n          });\n\n          it('re-throws the error', () => {\n            expect(() =>\n              renderWithFeatureHubContext(\n                <FeatureAppContainer\n                  featureAppId=\"testId\"\n                  featureAppDefinition={mockFeatureAppDefinition}\n                  onError={() => {\n                    throw onErrorMockError;\n                  }}\n                />,\n              ),\n            ).toThrowError(onErrorMockError);\n\n            expectConsoleErrorCalls([\n              [onErrorMockError],\n              ...noErrorBoundaryConsoleErrorCalls,\n            ]);\n          });\n        });\n      });\n    });\n\n    describe('when unmounted', () => {\n      it('calls release() on the Feature App scope', () => {\n        const testRenderer = renderWithFeatureHubContext(\n          <FeatureAppContainer\n            featureAppId=\"testId\"\n            featureAppDefinition={mockFeatureAppDefinition}\n          />,\n        );\n\n        expect(mockFeatureAppScope.release).not.toHaveBeenCalled();\n\n        testRenderer.unmount();\n\n        expect(mockFeatureAppScope.release).toHaveBeenCalledTimes(1);\n      });\n\n      describe('when the Feature App scope throws an error while being destroyed', () => {\n        let mockError: Error;\n\n        beforeEach(() => {\n          mockError = new Error('Failed to release Feature App');\n\n          mockFeatureAppScope.release = () => {\n            throw mockError;\n          };\n        });\n\n        it('logs the error', () => {\n          const testRenderer = renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n            />,\n          );\n\n          testRenderer.unmount();\n\n          expect(logger.error.mock.calls).toEqual([[mockError]]);\n        });\n\n        describe('with onError provided', () => {\n          it('calls onError with the error', () => {\n            const onError = jest.fn();\n\n            const testRenderer = renderWithFeatureHubContext(\n              <FeatureAppContainer\n                featureAppId=\"testId\"\n                featureAppDefinition={mockFeatureAppDefinition}\n                onError={onError}\n              />,\n            );\n\n            testRenderer.unmount();\n\n            expect(onError.mock.calls).toEqual([[mockError]]);\n          });\n\n          it('does not log the error', () => {\n            const testRenderer = renderWithFeatureHubContext(\n              <FeatureAppContainer\n                featureAppId=\"testId\"\n                featureAppDefinition={mockFeatureAppDefinition}\n                onError={jest.fn()}\n              />,\n            );\n\n            testRenderer.unmount();\n\n            expect(logger.error).not.toHaveBeenCalled();\n          });\n\n          describe('when onError throws an error', () => {\n            let onErrorMockError: Error;\n\n            beforeEach(() => {\n              onErrorMockError = new Error('Throwing in onError.');\n            });\n\n            it('re-throws the error', () => {\n              const testRenderer = renderWithFeatureHubContext(\n                <FeatureAppContainer\n                  featureAppId=\"testId\"\n                  featureAppDefinition={mockFeatureAppDefinition}\n                  onError={() => {\n                    throw onErrorMockError;\n                  }}\n                />,\n              );\n\n              expect(() => testRenderer.unmount()).toThrowError(\n                onErrorMockError,\n              );\n\n              expectConsoleErrorCalls([\n                [onErrorMockError],\n                ...noErrorBoundaryConsoleErrorCalls,\n              ]);\n            });\n          });\n        });\n      });\n    });\n\n    describe('when a feature app has a loading promise', () => {\n      let resolveLoadingPromise: () => Promise<void>;\n      let rejectLoadingPromise: (reason?: Error) => Promise<void>;\n\n      beforeEach(() => {\n        const loadingPromise: Promise<void> = new Promise((resolve, reject) => {\n          resolveLoadingPromise = async () => {\n            resolve();\n            // promise returns itself so we don't forget to await next\n            // async tick in tests\n\n            return loadingPromise;\n          };\n\n          rejectLoadingPromise = async (e?: Error) => {\n            reject(e);\n\n            return loadingPromise.catch(() => undefined);\n          };\n        });\n\n        mockFeatureAppScope = {\n          ...mockFeatureAppScope,\n          featureApp: {\n            render: () => (\n              <div>This is the React Feature App with a loading promise.</div>\n            ),\n            loadingPromise,\n          },\n        };\n      });\n\n      describe('when no children function is passed', () => {\n        describe('when no feature app definition is passed', () => {\n          it('renders null', () => {\n            const testRenderer = renderWithFeatureHubContext(\n              <InternalFeatureAppContainer\n                featureAppId=\"testId\"\n                logger={logger}\n                featureAppManager={mockFeatureAppManager}\n              />,\n            );\n\n            expect(testRenderer.getInstance()).toBeNull();\n          });\n        });\n\n        describe('when the promise resolves', () => {\n          it('renders the feature app', async () => {\n            const testRenderer = renderWithFeatureHubContext(\n              <FeatureAppContainer\n                featureAppId=\"testId\"\n                featureAppDefinition={mockFeatureAppDefinition}\n              />,\n            );\n\n            expect(testRenderer.toJSON()).toMatchInlineSnapshot(`\n              <div>\n                This is the React Feature App with a loading promise.\n              </div>\n            `);\n\n            await resolveLoadingPromise();\n\n            expect(testRenderer.toJSON()).toMatchInlineSnapshot(`\n              <div>\n                This is the React Feature App with a loading promise.\n              </div>\n            `);\n          });\n        });\n\n        describe('when the promise rejects', () => {\n          let loadingPromiseMockError: Error;\n\n          beforeEach(() => {\n            loadingPromiseMockError = new Error(\n              'loading promise rejected with error',\n            );\n          });\n\n          describe('with no onError', () => {\n            it('does not throw, but logs the error', async () => {\n              renderWithFeatureHubContext(\n                <FeatureAppContainer\n                  featureAppId=\"testId\"\n                  featureAppDefinition={mockFeatureAppDefinition}\n                />,\n              );\n\n              await rejectLoadingPromise(loadingPromiseMockError);\n\n              expect(logger.error.mock.calls).toEqual([\n                [loadingPromiseMockError],\n              ]);\n            });\n          });\n\n          describe('with onError', () => {\n            it('calls onError', async () => {\n              const onError = jest.fn();\n\n              renderWithFeatureHubContext(\n                <FeatureAppContainer\n                  featureAppId=\"testId\"\n                  featureAppDefinition={mockFeatureAppDefinition}\n                  onError={onError}\n                />,\n              );\n\n              await rejectLoadingPromise(loadingPromiseMockError);\n\n              expect(onError).toHaveBeenCalledWith(loadingPromiseMockError);\n            });\n\n            describe('when unmounted before loading promise is rejected', () => {\n              it('calls onError with the error', async () => {\n                const onError = jest.fn();\n\n                const testRenderer = renderWithFeatureHubContext(\n                  <FeatureAppContainer\n                    featureAppId=\"testId\"\n                    featureAppDefinition={mockFeatureAppDefinition}\n                    onError={onError}\n                  />,\n                );\n\n                expect(onError.mock.calls).toEqual([]);\n\n                testRenderer.unmount();\n\n                expect(onError.mock.calls).toEqual([]);\n\n                await rejectLoadingPromise(loadingPromiseMockError);\n\n                expect(onError.mock.calls).toEqual([[loadingPromiseMockError]]);\n              });\n            });\n\n            describe('when onError throws an error', () => {\n              let onErrorMockError: Error;\n\n              beforeEach(() => {\n                onErrorMockError = new Error('Throwing in onError.');\n              });\n\n              it('throws the error in render', async () => {\n                const handleError = jest.fn();\n\n                const testRenderer = renderWithFeatureHubContext(\n                  <TestErrorBoundary handleError={handleError}>\n                    <FeatureAppContainer\n                      featureAppId=\"testId\"\n                      featureAppDefinition={mockFeatureAppDefinition}\n                      onError={() => {\n                        throw onErrorMockError;\n                      }}\n                    />\n                  </TestErrorBoundary>,\n                );\n\n                expectConsoleErrorCalls([]);\n\n                await rejectLoadingPromise(loadingPromiseMockError);\n\n                expect(handleError.mock.calls).toEqual([[onErrorMockError]]);\n\n                expect(testRenderer.toJSON()).toBe('test error boundary');\n\n                expectConsoleErrorCalls(\n                  usingTestErrorBoundaryConsoleErrorCalls,\n                );\n              });\n\n              describe('when unmounted before loading promise is rejected', () => {\n                it('calls onError with the loading promise error', async () => {\n                  const onError = jest.fn(() => {\n                    throw onErrorMockError;\n                  });\n\n                  const testRenderer = renderWithFeatureHubContext(\n                    <FeatureAppContainer\n                      featureAppId=\"testId\"\n                      featureAppDefinition={mockFeatureAppDefinition}\n                      onError={onError}\n                    />,\n                  );\n\n                  expect(onError.mock.calls).toEqual([]);\n\n                  testRenderer.unmount();\n\n                  expect(onError.mock.calls).toEqual([]);\n\n                  await rejectLoadingPromise(loadingPromiseMockError);\n\n                  expect(onError.mock.calls).toEqual([\n                    [loadingPromiseMockError],\n                  ]);\n                });\n              });\n            });\n          });\n        });\n      });\n\n      describe('when children function is passed', () => {\n        describe('when promise resolves', () => {\n          it('initially passes loading=true to children function, then loading=false', async () => {\n            const children = jest.fn(\n              (_: CustomFeatureAppRenderingParams) => null,\n            );\n\n            renderWithFeatureHubContext(\n              <FeatureAppContainer\n                featureAppId=\"testId\"\n                featureAppDefinition={mockFeatureAppDefinition}\n                children={children}\n              />,\n            );\n\n            expect(children).toHaveBeenCalledTimes(1);\n\n            expect(children.mock.calls[0][0].loading).toBe(true);\n\n            await resolveLoadingPromise();\n\n            expect(children).toHaveBeenCalledTimes(2);\n\n            expect(children.mock.calls[1][0].loading).toBe(false);\n          });\n\n          it('renders what children returns', async () => {\n            const children = jest.fn(\n              ({loading}: CustomFeatureAppRenderingParams) => (\n                <span>{loading ? 'is loading' : 'not loading'}</span>\n              ),\n            );\n\n            const testRenderer = renderWithFeatureHubContext(\n              <FeatureAppContainer\n                featureAppId=\"testId\"\n                featureAppDefinition={mockFeatureAppDefinition}\n                children={children}\n              />,\n            );\n\n            expect(testRenderer.toJSON()).toMatchInlineSnapshot(`\n              <span>\n                is loading\n              </span>\n            `);\n\n            await resolveLoadingPromise();\n\n            expect(testRenderer.toJSON()).toMatchInlineSnapshot(`\n              <span>\n                not loading\n              </span>\n            `);\n          });\n        });\n\n        describe('when promise rejects', () => {\n          let mockError: Error;\n\n          beforeEach(() => {\n            mockError = new Error('loading promise rejected with error');\n          });\n\n          it('initially passes loading=true to children, then loading=false', async () => {\n            const children = jest.fn(\n              (_: CustomFeatureAppRenderingParams) => null,\n            );\n\n            renderWithFeatureHubContext(\n              <FeatureAppContainer\n                featureAppId=\"testId\"\n                featureAppDefinition={mockFeatureAppDefinition}\n                children={children}\n              />,\n            );\n\n            expect(children).toHaveBeenCalledTimes(1);\n\n            expect(children.mock.calls[0][0].loading).toBe(true);\n\n            await rejectLoadingPromise(mockError);\n\n            expect(children).toHaveBeenCalledTimes(2);\n\n            expect(children.mock.calls[1][0].loading).toBe(false);\n          });\n\n          it('calls children with rejection error', async () => {\n            const children = jest.fn(\n              (_: CustomFeatureAppRenderingParams) => null,\n            );\n\n            renderWithFeatureHubContext(\n              <FeatureAppContainer\n                featureAppId=\"testId\"\n                featureAppDefinition={mockFeatureAppDefinition}\n                children={children}\n              />,\n            );\n\n            expect(children).toHaveBeenCalledTimes(1);\n\n            expect(children.mock.calls[0][0].error).toBeUndefined();\n\n            await rejectLoadingPromise(mockError);\n\n            expect(children).toHaveBeenCalledTimes(2);\n\n            expect(children.mock.calls[1][0].error).toBe(mockError);\n          });\n\n          it(`doesn't pass featureAppNode to children after rejection`, async () => {\n            const children = jest.fn(\n              (_: CustomFeatureAppRenderingParams) => null,\n            );\n\n            renderWithFeatureHubContext(\n              <FeatureAppContainer\n                featureAppId=\"testId\"\n                featureAppDefinition={mockFeatureAppDefinition}\n                children={children}\n              />,\n            );\n\n            expect(children).toHaveBeenCalledTimes(1);\n\n            expect(children.mock.calls[0][0].featureAppNode)\n              .toMatchInlineSnapshot(`\n              <div>\n                This is the React Feature App with a loading promise.\n              </div>\n            `);\n\n            await rejectLoadingPromise(mockError);\n\n            expect(children).toHaveBeenCalledTimes(2);\n\n            expect(children.mock.calls[1][0].featureAppNode).toBeUndefined();\n          });\n        });\n      });\n\n      describe('when unmounted before loading promise is resolved', () => {\n        it('does not try to set state', async () => {\n          const testRenderer = renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n            />,\n          );\n\n          testRenderer.unmount();\n          await resolveLoadingPromise();\n\n          expect(consoleErrorSpy).not.toHaveBeenCalled();\n        });\n      });\n    });\n  });\n\n  describe('with a DOM Feature App', () => {\n    beforeEach(() => {\n      mockFeatureAppScope = {\n        featureApp: {\n          attachTo(container: HTMLElement): void {\n            container.innerHTML = 'This is the DOM Feature App.';\n          },\n        },\n        release: jest.fn(),\n      };\n    });\n\n    it(\"renders a container and passes it to the Feature App's render method\", () => {\n      const mockSetInnerHtml = jest.fn();\n\n      const testRenderer = renderWithFeatureHubContext(\n        <FeatureAppContainer\n          featureAppId=\"testId\"\n          featureAppDefinition={mockFeatureAppDefinition}\n        />,\n        {\n          testRendererOptions: {\n            createNodeMock: () => ({\n              set innerHTML(html: string) {\n                mockSetInnerHtml(html);\n              },\n            }),\n          },\n        },\n      );\n\n      expect(testRenderer.toJSON()).toMatchInlineSnapshot(`<div />`);\n\n      expect(mockSetInnerHtml).toHaveBeenCalledWith(\n        'This is the DOM Feature App.',\n      );\n    });\n\n    describe('when children function is provided', () => {\n      it('passes react node to children function', () => {\n        const mockSetInnerHtml = jest.fn();\n\n        const children = jest.fn(\n          ({featureAppNode}: CustomFeatureAppRenderingParams) => (\n            <div id=\"children-wrap\">{featureAppNode}</div>\n          ),\n        );\n\n        const testRenderer = renderWithFeatureHubContext(\n          <FeatureAppContainer\n            featureAppId=\"testId\"\n            featureAppDefinition={mockFeatureAppDefinition}\n            children={children}\n          />,\n          {\n            testRendererOptions: {\n              createNodeMock: () => ({\n                set innerHTML(html: string) {\n                  mockSetInnerHtml(html);\n                },\n              }),\n            },\n          },\n        );\n\n        expect(children).toHaveBeenCalledTimes(1);\n\n        expect(children.mock.calls[0][0]).toMatchInlineSnapshot(`\n          {\n            \"featureAppNode\": <div />,\n            \"loading\": false,\n          }\n        `);\n\n        expect(mockSetInnerHtml).toHaveBeenCalledWith(\n          'This is the DOM Feature App.',\n        );\n\n        expect(testRenderer.toJSON()).toMatchInlineSnapshot(`\n          <div\n            id=\"children-wrap\"\n          >\n            <div />\n          </div>\n        `);\n      });\n    });\n\n    describe('when a Feature App throws in attachTo', () => {\n      let mockError: Error;\n\n      beforeEach(() => {\n        mockError = new Error('Failed to attach.');\n\n        mockFeatureAppScope = {\n          ...mockFeatureAppScope,\n          featureApp: {\n            attachTo: () => {\n              throw mockError;\n            },\n          },\n        };\n      });\n\n      it(\"doesn't throw an error\", () => {\n        expect(() =>\n          renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n            />,\n            {testRendererOptions: {createNodeMock: () => ({})}},\n          ),\n        ).not.toThrowError(mockError);\n      });\n\n      it('logs the error', () => {\n        renderWithFeatureHubContext(\n          <FeatureAppContainer\n            featureAppId=\"testId\"\n            featureAppDefinition={mockFeatureAppDefinition}\n          />,\n          {testRendererOptions: {createNodeMock: () => ({})}},\n        );\n\n        expect(logger.error.mock.calls).toEqual([[mockError]]);\n      });\n\n      describe('with an onError function provided', () => {\n        it('calls the function with the error', () => {\n          const onError = jest.fn();\n\n          renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n              onError={onError}\n            />,\n            {testRendererOptions: {createNodeMock: () => ({})}},\n          );\n\n          expect(onError.mock.calls).toEqual([[mockError]]);\n        });\n\n        describe('when onError throws an error', () => {\n          let onErrorMockError: Error;\n\n          beforeEach(() => {\n            onErrorMockError = new Error('Throwing in onError.');\n          });\n\n          it('re-throws the error', () => {\n            expect(() =>\n              renderWithFeatureHubContext(\n                <FeatureAppContainer\n                  featureAppId=\"testId\"\n                  featureAppDefinition={mockFeatureAppDefinition}\n                  onError={() => {\n                    throw onErrorMockError;\n                  }}\n                />,\n                {testRendererOptions: {createNodeMock: () => ({})}},\n              ),\n            ).toThrowError(onErrorMockError);\n\n            expectConsoleErrorCalls([\n              [onErrorMockError],\n              ...noErrorBoundaryConsoleErrorCalls,\n            ]);\n          });\n        });\n      });\n\n      describe('with a children function provided', () => {\n        it('calls the function with the error', () => {\n          const children = jest.fn(\n            ({featureAppNode}: CustomFeatureAppRenderingParams) =>\n              featureAppNode || null,\n          );\n\n          renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n              children={children}\n            />,\n            {testRendererOptions: {createNodeMock: () => ({})}},\n          );\n\n          expect(children).toHaveBeenLastCalledWith({\n            error: mockError,\n            loading: false,\n          } satisfies CustomFeatureAppRenderingParams);\n        });\n\n        it('renders the result of the function', () => {\n          const customErrorUI = 'custom error UI';\n\n          const children = jest.fn(\n            ({featureAppNode}: CustomFeatureAppRenderingParams) =>\n              featureAppNode || customErrorUI,\n          );\n\n          const testRenderer = renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n              children={children}\n            />,\n            {testRendererOptions: {createNodeMock: () => ({})}},\n          );\n\n          expect(testRenderer.toJSON()).toBe(customErrorUI);\n        });\n      });\n\n      describe('without a children function provided', () => {\n        it('renders null', () => {\n          const testRenderer = renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n            />,\n            {testRendererOptions: {createNodeMock: () => ({})}},\n          );\n\n          expect(testRenderer.toJSON()).toBeNull();\n        });\n      });\n    });\n\n    describe('when unmounted', () => {\n      it('calls release() on the Feature App scope', () => {\n        const testRenderer = renderWithFeatureHubContext(\n          <FeatureAppContainer\n            featureAppId=\"testId\"\n            featureAppDefinition={mockFeatureAppDefinition}\n          />,\n        );\n\n        expect(mockFeatureAppScope.release).not.toHaveBeenCalled();\n\n        testRenderer.unmount();\n\n        expect(mockFeatureAppScope.release).toHaveBeenCalledTimes(1);\n      });\n\n      describe('when the Feature App scope throws an error while being released', () => {\n        let mockError: Error;\n\n        beforeEach(() => {\n          mockError = new Error('Failed to release Feature App');\n\n          mockFeatureAppScope.release = () => {\n            throw mockError;\n          };\n        });\n\n        it('logs the error', () => {\n          const testRenderer = renderWithFeatureHubContext(\n            <FeatureAppContainer\n              featureAppId=\"testId\"\n              featureAppDefinition={mockFeatureAppDefinition}\n            />,\n          );\n\n          testRenderer.unmount();\n\n          expect(logger.error.mock.calls).toEqual([[mockError]]);\n        });\n\n        describe('with an onError function provided', () => {\n          it('calls the function with the error', () => {\n            const onError = jest.fn();\n\n            const testRenderer = renderWithFeatureHubContext(\n              <FeatureAppContainer\n                featureAppId=\"testId\"\n                featureAppDefinition={mockFeatureAppDefinition}\n                onError={onError}\n              />,\n            );\n\n            testRenderer.unmount();\n\n            expect(onError.mock.calls).toEqual([[mockError]]);\n          });\n        });\n      });\n    });\n  });\n\n  for (const invalidFeatureApp of [\n    undefined,\n    null,\n    {},\n    {attachTo: 'foo'},\n    {render: 'foo'},\n  ]) {\n    describe(`when an invalid Feature App (${JSON.stringify(\n      invalidFeatureApp,\n    )}) is created`, () => {\n      beforeEach(() => {\n        mockFeatureAppScope = {\n          featureApp: invalidFeatureApp,\n          release: jest.fn(),\n        };\n      });\n\n      it('renders nothing and logs an error', () => {\n        const testRenderer = renderWithFeatureHubContext(\n          <FeatureAppContainer\n            featureAppId=\"testId\"\n            featureAppDefinition={mockFeatureAppDefinition}\n          />,\n        );\n\n        expect(testRenderer.toJSON()).toBeNull();\n\n        const expectedError = new Error(\n          'Invalid Feature App found. The Feature App must be an object with either 1) a `render` method that returns a React element, or 2) an `attachTo` method that accepts a container DOM element.',\n        );\n\n        expect(logger.error.mock.calls).toEqual([[expectedError]]);\n      });\n    });\n  }\n\n  describe('when a Feature App scope fails to be created', () => {\n    let mockError: Error;\n\n    beforeEach(() => {\n      mockError = new Error('Failed to create Feature App scope.');\n\n      mockCreateFeatureAppScope.mockImplementation(() => {\n        throw mockError;\n      });\n    });\n\n    it('logs the creation error', () => {\n      renderWithFeatureHubContext(\n        <FeatureAppContainer\n          featureAppId=\"testId\"\n          featureAppDefinition={mockFeatureAppDefinition}\n        />,\n      );\n\n      expect(logger.error.mock.calls).toEqual([[mockError]]);\n    });\n\n    describe('with an onError function provided', () => {\n      it('calls the function with the error', () => {\n        const onError = jest.fn();\n\n        renderWithFeatureHubContext(\n          <FeatureAppContainer\n            featureAppId=\"testId\"\n            featureAppDefinition={mockFeatureAppDefinition}\n            onError={onError}\n          />,\n        );\n\n        expect(onError.mock.calls).toEqual([[mockError]]);\n      });\n\n      describe('when onError throws an error', () => {\n        let onErrorMockError: Error;\n\n        beforeEach(() => {\n          onErrorMockError = new Error('Throwing in onError.');\n        });\n\n        it('re-throws the error', () => {\n          expect(() =>\n            renderWithFeatureHubContext(\n              <FeatureAppContainer\n                featureAppId=\"testId\"\n                featureAppDefinition={mockFeatureAppDefinition}\n                onError={() => {\n                  throw onErrorMockError;\n                }}\n              />,\n            ),\n          ).toThrowError(onErrorMockError);\n\n          expectConsoleErrorCalls(noErrorBoundaryConsoleErrorCalls);\n        });\n      });\n    });\n\n    describe('when unmounted', () => {\n      it('does nothing', () => {\n        const testRenderer = renderWithFeatureHubContext(\n          <FeatureAppContainer\n            featureAppId=\"testId\"\n            featureAppDefinition={mockFeatureAppDefinition}\n          />,\n        );\n\n        testRenderer.unmount();\n      });\n    });\n  });\n\n  describe('without a custom logger', () => {\n    it('logs messages using the console', () => {\n      const mockError = new Error('Failed to render.');\n\n      mockFeatureAppScope = {\n        ...mockFeatureAppScope,\n        featureApp: {\n          render: () => {\n            throw mockError;\n          },\n        },\n      };\n\n      renderWithFeatureHubContext(\n        <FeatureAppContainer\n          featureAppId=\"testId\"\n          featureAppDefinition={mockFeatureAppDefinition}\n        />,\n        {customLogger: false},\n      );\n\n      expectConsoleErrorCalls([[mockError]]);\n    });\n  });\n});\n"]}